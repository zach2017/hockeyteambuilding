<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hockey Game</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
        #gameCanvas {
            display: block;
            background: linear-gradient(180deg, #e8f4f8 0%, #d4e8f0 100%);
        }
    </style>
</head>
<body class="bg-gray-900">
    <div class="fixed top-0 left-0 right-0 bg-gray-800 text-white p-4 shadow-lg z-10">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div class="text-center flex-1">
                <h2 class="text-2xl font-bold text-blue-400">Team Blue</h2>
                <p class="text-4xl font-bold mt-2" id="blueScore">0</p>
            </div>
            <div class="text-center px-8">
                <h1 class="text-3xl font-bold">üèí Hockey Game</h1>
                <button id="startBtn" class="mt-2 bg-green-500 hover:bg-green-600 px-6 py-2 rounded-lg font-bold">
                    Start Game
                </button>
            </div>
            <div class="text-center flex-1">
                <h2 class="text-2xl font-bold text-red-400">Team Red</h2>
                <p class="text-4xl font-bold mt-2" id="redScore">0</p>
            </div>
        </div>
    </div>

    <div class="fixed bottom-4 left-4 bg-gray-800 text-white p-4 rounded-lg shadow-lg z-10">
        <h3 class="font-bold mb-2">Controls:</h3>
        <p class="text-sm"><strong>Player 1 (Blue):</strong> WASD to move</p>
        <p class="text-sm"><strong>Player 2 (Red):</strong> Arrow keys to move</p>
        <p class="text-sm mt-2">üí° Push the puck into the opponent's goal!</p>
    </div>

    <canvas id="gameCanvas"></canvas>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startBtn = document.getElementById('startBtn');
        const blueScoreEl = document.getElementById('blueScore');
        const redScoreEl = document.getElementById('redScore');

        // Set canvas size
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        }
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);

        // Game state
        let gameStarted = false;
        let blueScore = 0;
        let redScore = 0;

        // Game objects
        const puck = {
            x: canvas.width / 2,
            y: canvas.height / 2,
            radius: 15,
            vx: 0,
            vy: 0,
            friction: 0.98,
            color: '#1a1a1a'
        };

        const player1 = {
            x: canvas.width / 4,
            y: canvas.height / 2,
            radius: 25,
            speed: 5,
            color: '#3b82f6',
            keys: { w: false, a: false, s: false, d: false }
        };

        const player2 = {
            x: (canvas.width / 4) * 3,
            y: canvas.height / 2,
            radius: 25,
            speed: 5,
            color: '#ef4444',
            keys: { up: false, left: false, down: false, right: false }
        };

        // Goals
        const goalWidth = 20;
        const goalHeight = 150;
        const leftGoal = {
            x: 0,
            y: (canvas.height - goalHeight) / 2,
            width: goalWidth,
            height: goalHeight
        };
        const rightGoal = {
            x: canvas.width - goalWidth,
            y: (canvas.height - goalHeight) / 2,
            width: goalWidth,
            height: goalHeight
        };

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (!gameStarted) return;
            
            // Player 1
            if (e.key === 'w') player1.keys.w = true;
            if (e.key === 'a') player1.keys.a = true;
            if (e.key === 's') player1.keys.s = true;
            if (e.key === 'd') player1.keys.d = true;
            
            // Player 2
            if (e.key === 'ArrowUp') player2.keys.up = true;
            if (e.key === 'ArrowLeft') player2.keys.left = true;
            if (e.key === 'ArrowDown') player2.keys.down = true;
            if (e.key === 'ArrowRight') player2.keys.right = true;
        });

        document.addEventListener('keyup', (e) => {
            // Player 1
            if (e.key === 'w') player1.keys.w = false;
            if (e.key === 'a') player1.keys.a = false;
            if (e.key === 's') player1.keys.s = false;
            if (e.key === 'd') player1.keys.d = false;
            
            // Player 2
            if (e.key === 'ArrowUp') player2.keys.up = false;
            if (e.key === 'ArrowLeft') player2.keys.left = false;
            if (e.key === 'ArrowDown') player2.keys.down = false;
            if (e.key === 'ArrowRight') player2.keys.right = false;
        });

        startBtn.addEventListener('click', () => {
            gameStarted = true;
            startBtn.textContent = 'Game On!';
            startBtn.disabled = true;
            startBtn.classList.add('opacity-50');
        });

        function updatePlayer(player) {
            // Player 1 movement
            if (player === player1) {
                if (player.keys.w) player.y -= player.speed;
                if (player.keys.s) player.y += player.speed;
                if (player.keys.a) player.x -= player.speed;
                if (player.keys.d) player.x += player.speed;
            }
            
            // Player 2 movement
            if (player === player2) {
                if (player.keys.up) player.y -= player.speed;
                if (player.keys.down) player.y += player.speed;
                if (player.keys.left) player.x -= player.speed;
                if (player.keys.right) player.x += player.speed;
            }

            // Keep player in bounds
            player.x = Math.max(player.radius, Math.min(canvas.width - player.radius, player.x));
            player.y = Math.max(100 + player.radius, Math.min(canvas.height - player.radius, player.y));
        }

        function checkCollision(obj1, obj2) {
            const dx = obj1.x - obj2.x;
            const dy = obj1.y - obj2.y;
            const distance = Math.sqrt(dx * dx + dy * dy);
            return distance < obj1.radius + obj2.radius;
        }

        function handlePlayerPuckCollision(player, puck) {
            if (checkCollision(player, puck)) {
                const dx = puck.x - player.x;
                const dy = puck.y - player.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance > 0) {
                    const normalX = dx / distance;
                    const normalY = dy / distance;
                    
                    // Push puck away from player
                    const overlap = player.radius + puck.radius - distance;
                    puck.x += normalX * overlap;
                    puck.y += normalY * overlap;
                    
                    // Transfer momentum to puck
                    const force = 8;
                    puck.vx = normalX * force;
                    puck.vy = normalY * force;
                }
            }
        }

        function updatePuck() {
            puck.x += puck.vx;
            puck.y += puck.vy;
            
            // Apply friction
            puck.vx *= puck.friction;
            puck.vy *= puck.friction;
            
            // Stop if moving very slowly
            if (Math.abs(puck.vx) < 0.1) puck.vx = 0;
            if (Math.abs(puck.vy) < 0.1) puck.vy = 0;
            
            // Bounce off top and bottom walls
            if (puck.y - puck.radius < 100 || puck.y + puck.radius > canvas.height) {
                puck.vy *= -0.8;
                puck.y = puck.y - puck.radius < 100 ? 100 + puck.radius : canvas.height - puck.radius;
            }
            
            // Check goals
            if (puck.x - puck.radius < goalWidth) {
                if (puck.y > leftGoal.y && puck.y < leftGoal.y + leftGoal.height) {
                    redScore++;
                    redScoreEl.textContent = redScore;
                    resetPuck();
                } else {
                    puck.vx *= -0.8;
                    puck.x = goalWidth + puck.radius;
                }
            }
            
            if (puck.x + puck.radius > canvas.width - goalWidth) {
                if (puck.y > rightGoal.y && puck.y < rightGoal.y + rightGoal.height) {
                    blueScore++;
                    blueScoreEl.textContent = blueScore;
                    resetPuck();
                } else {
                    puck.vx *= -0.8;
                    puck.x = canvas.width - goalWidth - puck.radius;
                }
            }
        }

        function resetPuck() {
            puck.x = canvas.width / 2;
            puck.y = canvas.height / 2;
            puck.vx = 0;
            puck.vy = 0;
        }

        function drawRink() {
            // Ice rink
            ctx.fillStyle = '#e8f4f8';
            ctx.fillRect(0, 100, canvas.width, canvas.height - 100);
            
            // Center line
            ctx.strokeStyle = '#0066cc';
            ctx.lineWidth = 3;
            ctx.setLineDash([20, 10]);
            ctx.beginPath();
            ctx.moveTo(canvas.width / 2, 100);
            ctx.lineTo(canvas.width / 2, canvas.height);
            ctx.stroke();
            ctx.setLineDash([]);
            
            // Center circle
            ctx.strokeStyle = '#0066cc';
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(canvas.width / 2, canvas.height / 2, 80, 0, Math.PI * 2);
            ctx.stroke();
            
            // Goals
            ctx.fillStyle = '#dc2626';
            ctx.fillRect(leftGoal.x, leftGoal.y, leftGoal.width, leftGoal.height);
            ctx.strokeStyle = '#991b1b';
            ctx.lineWidth = 3;
            ctx.strokeRect(leftGoal.x, leftGoal.y, leftGoal.width, leftGoal.height);
            
            ctx.fillStyle = '#2563eb';
            ctx.fillRect(rightGoal.x, rightGoal.y, rightGoal.width, rightGoal.height);
            ctx.strokeStyle = '#1e40af';
            ctx.strokeRect(rightGoal.x, rightGoal.y, rightGoal.width, rightGoal.height);
        }

        function drawPlayer(player) {
            // Player shadow
            ctx.fillStyle = 'rgba(0, 0, 0, 0.2)';
            ctx.beginPath();
            ctx.arc(player.x + 3, player.y + 3, player.radius, 0, Math.PI * 2);
            ctx.fill();
            
            // Player
            ctx.fillStyle = player.color;
            ctx.beginPath();
            ctx.arc(player.x, player.y, player.radius, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 3;
            ctx.stroke();
        }

        function drawPuck() {
            // Puck shadow
            ctx.fillStyle = 'rgba(0, 0, 0, 0.3)';
            ctx.beginPath();
            ctx.arc(puck.x + 2, puck.y + 2, puck.radius, 0, Math.PI * 2);
            ctx.fill();
            
            // Puck
            ctx.fillStyle = puck.color;
            ctx.beginPath();
            ctx.arc(puck.x, puck.y, puck.radius, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.strokeStyle = '#666';
            ctx.lineWidth = 2;
            ctx.stroke();
        }

        function gameLoop() {
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw rink
            drawRink();
            
            if (gameStarted) {
                // Update players
                updatePlayer(player1);
                updatePlayer(player2);
                
                // Update puck
                updatePuck();
                
                // Check collisions
                handlePlayerPuckCollision(player1, puck);
                handlePlayerPuckCollision(player2, puck);
            }
            
            // Draw game objects
            drawPuck();
            drawPlayer(player1);
            drawPlayer(player2);
            
            requestAnimationFrame(gameLoop);
        }

        // Start game loop
        gameLoop();
    </script>
</body>
</html>